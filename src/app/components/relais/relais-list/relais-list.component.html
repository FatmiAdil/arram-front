

<h3 class="kTitle">Relais radio du Maroc</h3>
<mat-tab-group>
  <mat-tab>
    <ng-template mat-tab-label>
      <mat-icon class="example-tab-icon">directions_car</mat-icon>
      Relais
    </ng-template>

    <a class="btn btn-outline-success kBtnAdd" (click) = "addOrEdit(null, null)"><span class="fa fa-plus-square fa-lg"></span> Nouveau relais</a>
    <div class="mat-elevation-z8 entite-table">

      <div id="filters-container" [formGroup]="form" class="kFilter">
        <div class="form-group">
          <mat-form-field>
            <input formControlName="regionFilter" matInput placeholder="Région" class="inputFilter">
          </mat-form-field>
        </div>

        <div class="form-group">
          <mat-form-field>
            <mat-label>Bande</mat-label>
            <mat-select formControlName="bandeFilter">
              <mat-option [value]="">
                Choix Bande
              </mat-option>

              <mat-option *ngFor="let item of bandes" [value]="item.id">
                {{item.libelle}}
              </mat-option>
            </mat-select>
          </mat-form-field>
        </div>

      </div>


      <table mat-table class="full-width-table kTable" [dataSource]="dataSource" matSort aria-label="Elements">
        <!-- Region Column -->
        <ng-container matColumnDef="region">
          <th mat-header-cell *matHeaderCellDef mat-sort-header>Région</th>
          <td mat-cell *matCellDef="let row">{{row.region}}</td>
        </ng-container>

        <!-- Site Column -->
        <ng-container matColumnDef="site">
          <th mat-header-cell *matHeaderCellDef mat-sort-header>Site</th>
          <td mat-cell *matCellDef="let row">{{row.site}}</td>
        </ng-container>

        <!-- Nom Column -->
        <ng-container matColumnDef="nom">
          <th mat-header-cell *matHeaderCellDef mat-sort-header>Nom</th>
          <td mat-cell *matCellDef="let row">{{row.nom}}</td>
        </ng-container>

        <!-- Bande Column -->
        <ng-container matColumnDef="strbande">
          <th mat-header-cell *matHeaderCellDef mat-sort-header>Bande</th>
          <td mat-cell *matCellDef="let row">{{row.strBande}}</td>
        </ng-container>

        <!-- Freq Entree Column -->
        <ng-container matColumnDef="freqEntree">
          <th mat-header-cell *matHeaderCellDef mat-sort-header>Freq Entrée (Mhz)</th>
          <td mat-cell *matCellDef="let row">{{row.freqEntree}}</td>
        </ng-container>

        <!-- Freq Sortie Column -->
        <ng-container matColumnDef="freqSortie">
          <th mat-header-cell *matHeaderCellDef mat-sort-header>Freq Sortie (Mhz)</th>
          <td mat-cell *matCellDef="let row">{{row.freqSortie}}</td>
        </ng-container>




        <!-- Action Column -->
        <ng-container matColumnDef="actions">
            <th mat-header-cell *matHeaderCellDef >Actions</th>
            <td mat-cell *matCellDef="let row">
              <button mat-icon-button matToolTip="edit item" class="iconbutton kIconEdit" color="primary" (click) = "addOrEdit(row, row.id)">
                <mat-icon aria-label="visibility">edit</mat-icon>
              </button>
              <button mat-icon-button matToolTip="delete item" class="iconbutton kIconDel" color="primary"
              (click) = "delete(row.id, row)">
                <mat-icon>delete</mat-icon>
              </button>
            </td>
          </ng-container>

        <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
        <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
      </table>
      <mat-card *ngIf="isLoading" style="display: flex; justify-content: center; align-items: center">
        <mat-progress-spinner color="primary" mode="indeterminate"> </mat-progress-spinner>
      </mat-card>

      <mat-paginator #paginator [pageSize]="pageSize" [length]="totalCount" [pageSizeOptions]="pageSizeOptions" (page)="onPaginationChange($event)"></mat-paginator>


    </div>
  </mat-tab>

  <mat-tab>
    <ng-template mat-tab-label>
      <mat-icon class="example-tab-icon">directions_car</mat-icon>
      Carte
    </ng-template>


    <div id="arrammap">

    </div>



  </mat-tab>


</mat-tab-group>

